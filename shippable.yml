language: none


env:
  global:
    # Setup environment variables
    - SHIPPABLE: TRUE
    - PROJECT_NAME: ARM_CORE


build:
  pre_ci_boot:
    # Configure Docker image (this image has the GNU ARM Embedded Compiler and Doxygen installed)
    image_name: vesofton/u14_gnu_arm_embedded
    image_tag: latest
    pull: true

  ci:
    # Build the project with the included Makefile
    - arm-none-eabi-gcc --version                       # Used to compile the source code
    - arm-none-eabi-objcopy --version                   # Used to generate .hex file from .elf file
    - make all

  on_success:
    # Generate Doxygen files
    - echo "Project build successful!!"
    - cd $SHIPPABLE_BUILD_DIR/docs
    - doxygen Doxyfile.doxy


integrations:
  notifications:
    - integrationName: email
      type: email
      on_success: never
      on_failure: never
      on_pull_request: never
